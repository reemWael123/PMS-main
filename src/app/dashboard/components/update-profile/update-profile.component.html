<section class="d-flex align-items-center justify-content-center bg-body-tertiary">
    <div class="container">
        <div class="row justify-content-center">
            
            <div class="col-lg-8 bg-white rounded-4">
                <div class="position-relative row justify-content-center shadow p-4 rounded-4">
                    <div class="col-11">
                        <h3 class="main-color title-auth">My profile</h3>

                        <div class="d-flex justify-content-center p-2 mb-3">
                            <ngx-dropzone (change)="onSelect($event)">
                                <ngx-dropzone-label class="main-color">
                                    <mat-icon matSuffix>photo_camera</mat-icon>
                                </ngx-dropzone-label>
                                <ngx-dropzone-image-preview ngProjectAs="ngx-dropzone-preview" *ngFor="let f of files"
                                    [file]="f" [removable]="true" (removed)="onRemove(f)">
                                    <ngx-dropzone-label> </ngx-dropzone-label>
                                </ngx-dropzone-image-preview>

                            </ngx-dropzone>
                        </div>

                        <form [formGroup]="profileForm" class="row justify-content-between"
                            (ngSubmit)="onUpdateProfile(profileForm)">
                            <div class="col-md-6">
                                <mat-form-field class="w-100" hideRequiredMarker>
                                    <mat-label>User Name</mat-label>
                                    <input matInput formControlName="userName" placeholder="Enter your name" />
                                    <mat-icon matSuffix class="main-color">account_circle</mat-icon>
                                    <mat-error *ngIf="userName?.hasError('required') && userName?.touched">
                                        Username is <strong>required</strong>
                                    </mat-error>
                                </mat-form-field>
                            </div>

                            <div class="col-md-6">
                                <mat-form-field class="w-100" hideRequiredMarker>
                                    <mat-label>E-mail</mat-label>
                                    <input matInput formControlName="email" placeholder="Enter your e-mail" />
                                    <mat-icon matSuffix class="main-color">mail</mat-icon>
                                    <mat-error *ngIf="email?.hasError('required') && email?.touched">
                                        Email is required.
                                    </mat-error>
                                    <mat-error *ngIf="email?.hasError('email') && email?.touched">
                                        Email is not valid.
                                    </mat-error>
                                </mat-form-field>
                            </div>

                            <div class="col-md-6">
                                <mat-form-field class="w-100" hideRequiredMarker>
                                    <mat-label>Country</mat-label>
                                    <input matInput formControlName="country" placeholder="Enter your country" />
                                    <mat-icon matSuffix class="main-color">public</mat-icon>
                                    <mat-error *ngIf="country?.hasError('required') && country?.touched">
                                        Country is required.
                                    </mat-error>
                                </mat-form-field>
                            </div>

                            <div class="col-md-6">
                                <mat-form-field class="w-100" hideRequiredMarker>
                                    <mat-label>Phone Number</mat-label>
                                    <input matInput formControlName="phoneNumber"
                                        placeholder="Enter your phone number" />
                                    <mat-icon matSuffix class="main-color">phone_iphone</mat-icon>
                                    <mat-error *ngIf="phoneNumber?.hasError('required') && phoneNumber?.touched">
                                        Phone Number is required.
                                    </mat-error>
                                    <mat-error *ngIf="phoneNumber?.hasError('pattern') && phoneNumber?.touched">
                                        Phone Number is not valid.
                                    </mat-error>
                                </mat-form-field>
                            </div>

                            <div class="col-md-6">
                                <mat-form-field class="w-100" hideRequiredMarker>
                                    <mat-label>Password</mat-label>
                                    <input matInput [type]="isHide ? 'password' : 'text'" formControlName="password"
                                        placeholder="Enter your password" />
                                    <mat-icon matSuffix class="main-color" (click)="isHide = !isHide">{{ isHide ?
                                        "visibility_off" : "visibility" }}</mat-icon>
                                    <mat-error *ngIf="password?.hasError('required') && password?.touched">
                                        Password is required.
                                    </mat-error>
                                    <mat-error *ngIf="password?.hasError('minlength') && password?.touched">
                                        Password must be at least 6 characters long.
                                    </mat-error>
                                </mat-form-field>
                            </div>

                            <div class="col-md-6">
                                <mat-form-field class="w-100" hideRequiredMarker>
                                    <mat-label>Confirm Password</mat-label>
                                    <input matInput [type]="isHideConfirm ? 'password' : 'text'"
                                        formControlName="confirmPassword" placeholder="Confirm new password" />
                                    <mat-icon matSuffix class="main-color"
                                        (click)="isHideConfirm = !isHideConfirm">{{
                                        isHideConfirm ? "visibility_off" : "visibility"
                                        }}</mat-icon>
                                    <mat-error *ngIf="confirmPassword?.hasError('required') &&confirmPassword?.touched">
                                        Confirm password is required.
                                    </mat-error>
                                    <mat-error *ngIf="confirmPassword?.hasError('notMatch') &&confirmPassword?.touched">
                                        Confirm Password don't match.
                                    </mat-error>
                                </mat-form-field>
                            </div>
                            <button class="btn-main bg-main-color second-color mt-2 w-50 mx-auto mt-3"
                                [disabled]="profileForm.invalid">
                                Save
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>