<section class="p-4">
  <div class="mb-2r">
    <h4>Change Your Password</h4>
    <p class="text-secondary">Enter your details below</p>
  </div>

  <form [formGroup]="changePassForm">
    <mat-form-field class="w-100 mb-2">
      <mat-label>Old password</mat-label>
      <input
        [type]="isHide ? 'password' : 'text'"
        matInput
        placeholder="Old password"
        formControlName="oldPassword"
      />
      <mat-icon class="main-color" matSuffix (click)="isHide = !isHide">{{
        isHide ? "visibility_off" : "visibility"
      }}</mat-icon>
      <mat-error
        *ngIf="changePassForm.get('oldPassword')?.hasError('minlength')"
        >Password must be at least 6 characters long.
      </mat-error>
      <mat-error
        *ngIf="changePassForm.get('oldPassword')?.hasError('required')"
      >
        Old password is required
      </mat-error>
    </mat-form-field>

    <mat-form-field class="w-100 mb-2">
      <mat-label>New password</mat-label>
      <input
        [type]="isHideNew ? 'password' : 'text'"
        matInput
        placeholder="New password"
        formControlName="newPassword"
      />
      <mat-icon class="main-color" matSuffix (click)="isHideNew = !isHideNew">{{
        isHideNew ? "visibility_off" : "visibility"
      }}</mat-icon>
      <mat-error
        *ngIf="changePassForm.get('newPassword')?.hasError('minlength')"
        >New password must be at least 6 characters long.
      </mat-error>
      <mat-error
        *ngIf="changePassForm.get('newPassword')?.hasError('required')"
      >
        New password is required
      </mat-error>
    </mat-form-field>

    <mat-form-field class="w-100 mb-2">
      <mat-label>Confirm New Password</mat-label>
      <input
        [type]="isHideConfirm ? 'password' : 'text'"
        matInput
        placeholder="Confirm new password"
        formControlName="confirmNewPassword"
      />
      <mat-icon
        class="main-color"
        matSuffix
        (click)="isHideConfirm = !isHideConfirm"
        >{{ isHideConfirm ? "visibility_off" : "visibility" }}</mat-icon
      >
      <mat-error
        *ngIf="
          changePassForm
            .get('confirmNewPassword')
            ?.hasError('passwordsDoNotMatch')
        "
        >Confirm new password don't match.
      </mat-error>
      <mat-error
        *ngIf="changePassForm.get('confirmNewPassword')?.hasError('required')"
      >
        Confirm new password is required
      </mat-error>
    </mat-form-field>

    <div class="d-flex justify-content-end gap-3">
      <button
        mat-button
        type="button"
        class="bg-danger-color second-color p-4"
        (click)="onNoClick()"
      >
        Cancel
      </button>
      <button
        type="submit"
        class="btn bg-main-color second-color p-4"
        mat-button
        [mat-dialog-close]="changePassForm.value"
        cdkFocusInitial
        [disabled]="changePassForm.invalid"
      >
        change Password
      </button>
    </div>
  </form>
</section>
